{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { RouterLink } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { MatButtonModule } from '@angular/material/button';\nimport * as Leaf from 'leaflet';\nimport { ContactSellerDialogComponent } from '../contact-seller-dialog/contact-seller-dialog.component';\nlet PropertyDetailsComponent = class PropertyDetailsComponent {\n  constructor(route, propertyService, dialog) {\n    this.route = route;\n    this.propertyService = propertyService;\n    this.dialog = dialog;\n    this.loading = true;\n    this.selectedImage = null;\n    this.mapInitialized = false;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.propertyService.getById(id).subscribe({\n        next: res => {\n          this.property = res;\n          this.loading = false;\n          setTimeout(() => this.initializeMap(), 100);\n        },\n        error: () => this.loading = false\n      });\n    }\n  }\n  initializeMap() {\n    if (this.mapInitialized || !this.property.latitude || !this.property.longitude) return;\n    const map = Leaf.map('map').setView([this.property.latitude, this.property.longitude], 14);\n    Leaf.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      maxZoom: 18,\n      attribution: 'Â© OpenStreetMap contributors'\n    }).addTo(map);\n    Leaf.marker([this.property.latitude, this.property.longitude]).addTo(map).bindPopup(this.property.title).openPopup();\n    this.mapInitialized = true;\n  }\n  openViewer(url) {\n    this.selectedImage = url;\n  }\n  closeViewer() {\n    this.selectedImage = null;\n  }\n  openContactForm() {\n    this.dialog.open(ContactSellerDialogComponent, {\n      width: '400px',\n      data: {\n        propertyTitle: this.property?.title\n      }\n    });\n  }\n};\nPropertyDetailsComponent = __decorate([Component({\n  selector: 'app-property-details',\n  standalone: true,\n  imports: [CommonModule, RouterLink, MatProgressSpinnerModule, MatButtonModule],\n  templateUrl: './property-details.component.html',\n  styleUrls: ['./property-details.component.scss']\n})], PropertyDetailsComponent);\nexport { PropertyDetailsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}